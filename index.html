<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        
    </style>
</head>
<body>
    <h1>JSON</h1>
    <small>Javascript Object Notation</small>
    <ul id="user-name"></ul>
    <form action="#">
        <input type="text" id="name" placeholder="name"><br>
        <input type="text" id="salary" placeholder="salary"><br>
        <input type="text" id="age" placeholder="age"><br>
        <button id="submit">Submit</button>
    </form>


    <script>
        //Data Get
        /*
        fetch("https://jsonplaceholder.typicode.com/users")
        .then(response => response.json())
        .then(json => displayName(json))
        .catch(error => console.log(error))

        const displayName = (users) => {
            const userName = users.map(user => user.username);
            const ul = document.getElementById('user-name');
            for(let i=0; i<userName.length; i++){
                const username = userName[i];    
                const li = document.createElement("li");
                li.innerText = username;
                ul.appendChild(li);
            }
        }
        */

        //Data Post

        document.getElementById('submit').addEventListener("click",function(){
            const name = document.getElementById('name').value;
            const salary = document.getElementById('salary').value;
            const age = document.getElementById('age').value;
            const details = {name:name,salary:salary,age:age}

            saveData(details);
        });

        function saveData(info){
            fetch('http://dummy.restapiexample.com/api/v1/create', {
            method: 'POST',
            body: JSON.stringify(info),
            headers: {
            "Content-type": "application/json; charset=UTF-8"
            }
        })
        .then(response => response.json())
        .then(json => console.log(json))
        }
        

    </script>
</body>
</html>